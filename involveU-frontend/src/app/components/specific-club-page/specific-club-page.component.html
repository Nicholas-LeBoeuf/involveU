<div *ngIf="successMessage === true" class="alert alert-success alert-dismissible fade show eventAlerts" role="alert">
  <p>{{this.message}}</p>
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>

<div *ngIf="failMessage === true" class="alert alert-danger alert-dismissible fade show eventAlerts" role="alert">
  <p>{{this.message}}</p>
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>

<div class="blueTitleBar">
  <div class="logoAndName">
    <img class="clubLogo" src="assets/{{clubInfo.clubLogo}}" alt="{{clubInfo.clubName}} Logo">
    <h1>{{clubInfo.clubName}}</h1>
  </div>
</div>

<div class="container">
  <div class="specificClubContainer" [ngClass]="{'specificClubContainerColumnsWeb' : responsiveService.deviceDesktop(), 'specificClubContainerColumnsMobileTablet' : responsiveService.deviceMobile() || responsiveService.deviceTablet()}">
    <div [ngClass]="{'mobileTabletClubInfoLeft clubInfoLeftGridMobileTablet' : responsiveService.deviceMobile() || responsiveService.deviceTablet(), 'clubInfoLeft clubInfoLeftGridWeb' : responsiveService.deviceDesktop()}">
      <ng-container *ngIf="clubInfo.clubBio !== null">
        <h2 class="blueHeaders">About Us</h2>
        <p>{{clubInfo.clubBio}}</p>
      </ng-container>
      <ng-container *ngIf="clubInfo.clubMission !== null">
        <h2 class="blueHeaders">Mission</h2>
        <p>{{clubInfo.clubMission}}</p>
      </ng-container>
      <ng-container *ngIf="clubInfo.clubValues !== null">
        <h2 class="blueHeaders">Values</h2>
        <p>{{clubInfo.clubValues}}</p>
      </ng-container>
      <ng-container *ngIf=""></ng-container>
      <ng-container *ngIf="clubEboard !== null">
        <h2 class="blueHeaders">Executive Board</h2>
        <p-table styleClass="eboardTable" [value]="clubEboard" responsiveLayout="scroll">
          <ng-template pTemplate="header">
            <tr>
              <th class="text-center">Position</th>
              <th class="text-center">Name</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-member>
            <tr>
              <td class="text-center">{{member.eboardPosition}}</td>
              <td class="text-center">{{member.firstName}} {{member.lastName}}</td>
            </tr>
          </ng-template>
        </p-table>
      </ng-container>
    </div>
    <div class="clubAnnouncementsRight" [ngClass]="{'mobileTabletClubAnnouncementWidth clubAnnouncementsRightGridMobileTablet' : responsiveService.deviceMobile() || responsiveService.deviceTablet(), 'clubAnnouncementsRightGridWeb' : responsiveService.deviceDesktop()}">
      <div class="announcementBorders">
        <h2 class="blueHeaders text-center">Announcements</h2>
        <hr class="announcementLine">
        <div class="announcementContent" *ngFor="let announcement of clubAnnouncements; index as index; last as last">
          <em class="announcementDate" *ngIf="index < 5">Posted on {{announcement.postedOn | date:'MMMM dd, YYYY'}}</em>
          <h4 class="blueHeaders convertToOswald announcementTitle" *ngIf="index < 5">{{announcement.announcementTitle}}</h4>
          <p [ngClass]="{ 'line-clamp': !showMore }" *ngIf="index < 5">{{announcement.contentOfAnnouncement}}</p>
          <hr class="announcementLine" *ngIf="index < 5">
        </div>
        <button class="blueButton">Show More</button>
      </div>
    </div>
    <div [ngClass]="{'eventsTableContainerGridMobileTablet' : responsiveService.deviceMobile() || responsiveService.deviceTablet(), 'eventsTableContainerGridWeb' : responsiveService.deviceDesktop()}">
      <h2 class="blueHeaders addTopMargin">Events Hosted By {{clubInfo.clubName}}</h2>
      <p-table [value]="clubEvents" [paginator]="true" [rows]="numberOfRows"  [showCurrentPageReport]="true"
               currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [loading]="isloading">
        <ng-template pTemplate="body" let-event>
          <div class="eventCard" (click)="showViewMoreInfoDialog(event)" [ngClass]="{'eventCardSizeWeb' : responsiveService.deviceDesktop(), 'eventCardSizeTabletMobile' : responsiveService.deviceMobile() || responsiveService.deviceTablet()}">
            <div class="eventCardPicture">
              <div class="imageCenter">
                <img class="eventImage" src="assets/{{clubInfo.clubLogo}}">
              </div>
              <div class="imageMask"></div>
              <h3 class="blueHeaders text-center">{{event.eventName}}</h3>
              <h5 class="text-center eventClubName">{{event.clubName}}</h5>
              <p class="text-center">Date: {{event.eventDate | date:'MMMM dd, YYYY'}}</p>
              <p class="text-center">Time: {{event.startTime | timeFormat}} - {{event.endTime | timeFormat}}</p>
              <p class="text-center">Location: {{event.eventLocation}} {{event.spaceName}}</p>
            </div>
          </div>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>

<p-dialog [(visible)]="viewMoreInfoDialog" [modal]="true" [style]="{width: '35vw'}" [dismissableMask]="true" [baseZIndex]="10000" (onHide)="closeViewMoreInfoDialog()">
  <a class="ui-dialog-titlebar-icon ui-dialog-titlebar-close ui-corner-all closeButtonDialog" role="button" (click)="closeViewMoreInfoDialog()">
    <span class="fa fa-fw fa-close fa-lg"></span>
  </a>
  <h1 class="text-center">Event Information</h1>
  <hr class="dialogLines">
  <div *ngFor="let event of this.certainEvent" >
    <div class="eventInfoContainer">
      <div class="eventName2">
        <h3 class="eventDataTitle">Event Name: </h3>
        <h5 class="eventData">{{event.eventName}}</h5>
      </div>
      <div class="eventDate2">
        <h3 class="eventDataTitle">Event Date: </h3>
        <h5 class="eventData">{{event.eventDate | date:'MMMM dd, YYYY'}}</h5>
      </div>
      <div class="eventTime2">
        <h3 class="eventDataTitle">Time: </h3>
        <h5 class="eventData">{{event.startTime | timeFormat}} - {{event.endTime | timeFormat}}</h5>
      </div>
      <div class="eventLocation2">
        <h3 class="eventDataTitle">Event Location: </h3>
        <h5 class="eventData">{{event.eventLocation}}</h5>
      </div>
      <div class="eventDesc2">
        <h3 class="eventDataTitle">Event Description: </h3>
        <h5 class="eventData">{{event.eventDesc}}</h5>
      </div>
      <div class="eventHost2">
        <h3 class="eventDataTitle">Hosted By:</h3>
        <h5 class="eventData">{{event.clubName}}</h5>
      </div>
      <div class="eventTransportation2">
        <h3 class="eventDataTitle">Transportation</h3>
        <ng-container *ngIf="event.isTransportation; else noTransportation">
          <h5 class="eventData">Transportation Provided</h5>
        </ng-container>
        <ng-template #noTransportation>
          <h5 class="eventData">Transportation NOT provided</h5>
        </ng-template>
      </div>
      <div class="eventTicketLink2">
        <h3 class="eventDataTitle">Ticket Link:</h3>
        <h5 class="eventData">{{event.ticketLink}}</h5>
      </div>
    </div>
  </div>
</p-dialog>
